<!DOCTYPE html>
<html>
<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <title>PAD Monsters</title>

  <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
  <link rel="stylesheet" href="https://bootswatch.com/3/slate/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.2/css/bootstrap-select.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretty-checkbox@3.0/dist/pretty-checkbox.min.css">
  <style type="text/css">
    .btn-monster.btn {
      padding: 0px;
    }
    .toggle-on {
      background-color: #5cb85c;
    }
    .checkbtn {
      padding: 4px;
    }
  </style>

</head>

<body>
  <div class="container-fluid">

    <h2>PAD Monsters</h2>

    <div class="well">

      <div >
        <ul class="nav nav-tabs">
          <li class="active"><a href="#SearchByFilter" data-toggle="tab" aria-expanded="true">Search by Filter</a></li>
          <li class=""><a href="#SearchById" data-toggle="tab" aria-expanded="false">Search by ID</a></li>
        </ul>       
      </div>

      <div class="tab-content" style="padding-top: 10px;">
        <div class="tab-pane fade active in" id="SearchByFilter">

          <form id="filter">
            <div class="form-group">
              <label for="selectMainAtt">Main Attribute</label>
              <div id="selectMainAtt">
                <div class="btn-group" data-toggle="buttons" role="group">

                  <button type="button" class="btn radiobtn btn-default active" style="padding-left: 10px; padding-right: 10px; ">
                    <input type="radio" name="selectMainAtt" value="Any" checked="checked">
                    Any
                  </button>

                  {% for Att in Attributes %}
                    <button type="button" class="btn radiobtn btn-default" style="padding-left: 10px; padding-right: 10px;">
                      <input type="radio" name="selectMainAtt" value="{{ Att }}">
                      <img src="https://raw.githubusercontent.com/jutongpan/paddata/master/img/Attribute/{{ loop.index }}.png" height="18" width="18">
                    </button>
                  {% endfor %}
                  
                </div>
              </div>
            </div>

            <div class="form-group">
              <label for="selectSubAtt">Sub Attribute</label>
              <div id="selectSubAtt" class="radioGroupButtons">
                <div class="btn-group" data-toggle="buttons" role="group">

                  <button type="button" class="btn radiobtn btn-default active" style="padding-left: 10px; padding-right: 10px;">
                    <input type="radio" name="selectSubAtt" value="Any" checked="checked">
                    Any
                  </button>
                  
                  {% for Att in Attributes %}
                    <button type="button" class="btn radiobtn btn-default" style="padding-left: 10px; padding-right: 10px;">
                      <input type="radio" name="selectSubAtt" value="{{ Att }}">
                      <img src="https://raw.githubusercontent.com/jutongpan/paddata/master/img/Attribute/{{ loop.index }}.png" height="18" width="18">
                    </button>
                  {% endfor %}

                  <button type="button" class="btn radiobtn btn-default" style="padding-left: 10px; padding-right: 10px;">
                    <input type="radio" name="selectSubAtt" value="None">
                    None
                  </button>
                  
                </div>
              </div>
            </div>

            <div class="form-group">
              <label>Type</label>
              <div class="btn-group" id="Type">
                {% for TypeId in TypeIds %}
                  <label class="btn btn-default checkbtn">
                    <input type="checkbox" value="{{ TypeId }}">
                    <img src='{{ img_source }}img/Type/{{ TypeId }}.png' width='20'>
                  </label>
                {% endfor %}
              </div>
            </div>

            
            <div class="form-group">

              <label>Awoken Skills</label>

              <table>
                <tr>
                  <td style="width:80%">
                    <div id="selected_awokenskills"></div>
                  </td>
                  <td style="width:20%">
                    <button type="button" id="ClearAwokenSkill" class="btn btn-default btn-sm">Clear</button>
                  </td>
                </tr>
              </table>

              <div style="display: flex; flex-wrap: wrap; padding-top: 5px;">

                <div>
                  <select id="IncSuper" class="selectpicker" data-width="auto">
                    <option selected>Include Super Awoken</option>
                    <option>Exclude Super Awoken</option>
                  </select>
                </div>

                <div style="padding-left: 10px;">
                  <button type="button" id="CollapseAwokenSkillSelector" class="btn btn-default btn-sm" data-toggle="collapse" data-target="#AwokenSkillSelectors">Show/Hide List</button>
                </div>

              </div>

              <div id="AwokenSkillSelectors" style="padding-top: 5px;" class="collapse in">
                <div class="btn-toolbar" role="toolbar" aria-label="...">
                  {% for AwokenSkillId in AwokenSkillIds %}
                    <button type="button" name="AwokenSkillSelector" class="btn btn-default" value="{{ AwokenSkillId }}" style="padding: 5px;">
                      <img src='{{ img_source }}img/AwokenSkill/{{ AwokenSkillId }}.png' width='21'>
                    </button>
                  {% endfor %}
                </div>
              </div>

            </div>

            <div class="form-group">
              <div>
                <button type="button" id="CollapseActiveSkill" class="btn btn-default" data-toggle="collapse" data-target="#ActiveSkill">Active Skill Types</button>
              </div>

              <div id="ActiveSkill" class="collapse" style="padding-top: 0.5em;">
                
                {% for row in ActiveSkillTypes|batch(2) %}
                  <div class="row">
                  {% for column in row %}
                    <div class="col-xs-6 col-md-3">
                      <div class="pretty p-default">
                      <input type="checkbox" value="{{ column }}">
                        <div class="state p-primary" style="font-size: 11px;">
                          <label>{{ column }}</label>
                        </div>
                      </div>
                    </div>
                  {% endfor %}
                  </div>
                {% endfor %}

              </div>
            </div>

            <div class="form-group" style="display: flex;">
              <div>
                <label for="SortBy">Sort by</label>
                <select id="SortBy" class="selectpicker" data-width="auto">
                  <option value="MonsterId" selected>ID</option>
                  <option value="Hp">HP(LvMax)</option>
                  <option value="Atk">ATK(LvMax)</option>
                  <option value="Rcv">RCV(LvMax)</option>
                  <option value="Weighted">Weighted(LvMax)</option>
                  <option value="Hp110">HP(Lv110)</option>
                  <option value="Atk110">ATK(Lv110)</option>
                  <option value="Rcv110">RCV(Lv110)</option>
                  <option value="Weighted110">Weighted(Lv110)</option>
                </select>
              </div>
              <div>
                <label for="TopN">Show Results</label>
                <select id="TopN" class="selectpicker" data-width="auto">
                  <option>Top 10</option>
                  <option selected>Top 50</option>
                  <option>Top 100</option>
                  <option>All</option>
                </select>
              </div>
            </div>

            <div>
              <button type="submit" class="btn" style="background-color: #337ab7;">Submit</button>
            </div>

          </form>

        </div>

        <div class="tab-pane fade" id="SearchById">
          <form id="FormId">
            <input type="checkbox" id="EnableRange">
            <label for="EnableRange">By Range</label>
            <div class="form-group" style="display: flex;">
              <input type="number" autocomplete="off" id="FromId" class="form-control" placeholder="ID" style="width: 100px;">
              <input type="number" autocomplete="off" id="ToId" class="form-control" style="width: 100px;" disabled>
            </div>
            <div>
              <button type="submit" class="btn" style="background-color: #337ab7;">Submit</button>
            </div>
          </form>
        </div>

      </div>
    </div>


    <div id="results"></div>

    <br>

    <div id="monDataViewer"></div>

  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.2/js/bootstrap-select.min.js"></script>
  <script src="{{ url_for('static', filename='js/form.js') }}"></script>
  <script type="text/javascript">
    $('select#IncSuper').selectpicker('setStyle', 'btn-default btn-sm');

    $('button[name=AwokenSkillSelector]').click(function() {
      var ASID = $(this).val();
      $('div#selected_awokenskills').append(
        '<button type="button" class="btn btn-default" value="' + ASID + '" style="padding: 0px; margin-right: 1px;">' +
          "<img src='{{ img_source }}img/AwokenSkill/" + ASID + ".png' width='25'>" +
        '</button>'
      );
    });

    $('button#ClearAwokenSkill').click(function() {
      $('div#selected_awokenskills').empty();
    });

    $('div#selected_awokenskills').on('click', 'button', function() {
      $(this).remove();
    });

    $('#EnableRange').change(function() {
      if (this.checked) {
        $('#ToId').prop('disabled', false);
        $('#FromId').attr('placeholder', 'From');
        $('#ToId').attr('placeholder', 'To');
      } else {
        $('#ToId').prop('disabled', true);
        $('#FromId').attr('placeholder', 'ID');
        $('#ToId').attr('placeholder', '');
      };
    });
  </script>

</body>
</html>
