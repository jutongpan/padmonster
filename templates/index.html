<!DOCTYPE html>
<html>
<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>PAD Monsters</title>

  <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
  <link rel="stylesheet" href="https://bootswatch.com/3/slate/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.2/css/bootstrap-select.min.css">
  <style type="text/css">
    .btn-monster.btn {
      padding: 0px;
    }
    .toggle-on {
      background-color: #5cb85c;
    }
    .checkbtn {
      padding: 4px;
    }
  </style>

</head>

<body>
  <div class="container-fluid">

    <h2>PAD Monsters</h2>

    <div class="well">

      <form id="filter">
        <div class="form-group">
          <label for="selectMainAtt">Main Attribute</label>
          <div id="selectMainAtt">
            <div class="btn-group" data-toggle="buttons" role="group">

              <button type="button" class="btn radiobtn btn-default active" style="padding-left: 10px; padding-right: 10px; ">
                <input type="radio" name="selectMainAtt" value="Any" checked="checked">
                Any
              </button>

              {% for Att in Attributes %}
                <button type="button" class="btn radiobtn btn-default" style="padding-left: 10px; padding-right: 10px;">
                  <input type="radio" name="selectMainAtt" value="{{ Att }}">
                  <img src="https://raw.githubusercontent.com/jutongpan/paddata/master/img/Attribute/{{ loop.index }}.png" height="18" width="18">
                </button>
              {% endfor %}
              
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="selectSubAtt">Sub Attribute</label>
          <div id="selectSubAtt" class="radioGroupButtons">
            <div class="btn-group" data-toggle="buttons" role="group">

              <button type="button" class="btn radiobtn btn-default active" style="padding-left: 10px; padding-right: 10px;">
                <input type="radio" name="selectSubAtt" value="Any" checked="checked">
                Any
              </button>
              
              {% for Att in Attributes %}
                <button type="button" class="btn radiobtn btn-default" style="padding-left: 10px; padding-right: 10px;">
                  <input type="radio" name="selectMainAtt" value="{{ Att }}">
                  <img src="https://raw.githubusercontent.com/jutongpan/paddata/master/img/Attribute/{{ loop.index }}.png" height="18" width="18">
                </button>
              {% endfor %}

              <button type="button" class="btn radiobtn btn-default" style="padding-left: 10px; padding-right: 10px;">
                <input type="radio" name="selectSubAtt" value="None">
                None
              </button>
              
            </div>
          </div>
        </div>

        <div class="form-group">
          <label>Type</label>
          <div class="btn-group" id="Type">
            {% for TypeId in TypeIds %}
              <label class="btn btn-default checkbtn">
                <input type="checkbox" value="{{ TypeId }}">
                <img src='{{ img_source }}img/Type/{{ TypeId }}.png' width='20'>
              </label>
            {% endfor %}
          </div>
        </div>

        
        <div class="form-group">

          <label>Awoken Skills</label>

          <div style="display:flex; flex-wrap:wrap;">
            
            <div id="selected_awokenskills" style="align-self:center;">

            </div>

            <div style="padding-left: 10px;">
              <button type="button" id="ClearAwokenSkill" class="btn btn-default btn-sm">Clear</button>
            </div>

            <div>
              <select id="IncSuper" class="selectpicker" data-width="auto">
                <option selected = "selected">Include Super Awoken</option>
                <option>Exclude Super Awoken</option>
              </select>
            </div>

            <div style="padding-left: 10px;">
              <button type="button" id="CollapseAwokenSkillSelector" class="btn btn-default btn-sm" data-toggle="collapse" data-target="#AwokenSkillSelectors">Collapse/Expand List of Awoken Skills</button>
            </div>

          </div>

          <div id="AwokenSkillSelectors" style="padding-top: 5px;" class="collapse in">
            <div class="btn-toolbar" role="toolbar" aria-label="...">
              {% for AwokenSkillId in AwokenSkillIds %}
                <button type="button" name="AwokenSkillSelector" class="btn btn-default" value="{{ AwokenSkillId }}" style="padding: 5px;">
                  <img src='{{ img_source }}img/AwokenSkill/{{ AwokenSkillId }}.png' width='21'>
                </button>
              {% endfor %}
            </div>
          </div>

        </div>

        <div class="form-group">
          <select id="TopN" class="selectpicker" data-width="auto">
            <option>Top 10</option>
            <option selected = "selected">Top 50</option>
            <option>Top 100</option>
            <option>All</option>
          </select>
        </div>

        <div>
          <button type="submit" class="btn" style="background-color: #337ab7;">Submit</button>
        </div>

      </form>

    </div>

    <div id="results"></div>

    <br>

    <div id="monDataViewer"></div>

  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.2/js/bootstrap-select.min.js"></script>
  <script src="{{ url_for('static', filename='js/form.js') }}"></script>
  <script type="text/javascript">
    $('select#IncSuper').selectpicker('setStyle', 'btn-default btn-sm');

    $('button[name=AwokenSkillSelector]').click(function() {
      var ASID = $(this).val();
      $('div#selected_awokenskills').append(
        '<button type="button" class="btn btn-default" value="' + ASID + '" style="padding: 0px;">' +
          "<img src='{{ img_source }}img/AwokenSkill/" + ASID + ".png' width='20'>" +
        '</button>'
      );
    });

    $('button#ClearAwokenSkill').click(function() {
      $('div#selected_awokenskills').empty();
    })
  </script>

</body>
</html>
